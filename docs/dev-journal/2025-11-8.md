# 11/8 の開発記録

開発アプローチはフロントエンドファーストでいこうと思う
理由はすぐ画面が見えて進捗を実感できるから

<details>

<summary>AI 調べ</summary>

```text
アプローチ比較

1. フロントエンドファースト（UI → データ）

流れ:
1. 型定義（Menu型など）
2. モックデータ作成
3. UIコンポーネント作成（献立カード、空状態）
4. ホーム画面実装
5. 最後にデータベース接続・API実装

メリット:
- ✅ すぐに画面が見えて進捗を実感できる
- ✅ UIを触りながら「あ、ここにメモ欄も必要だな」など気づきが得られる
- ✅ デザインの問題を早期発見できる
- ✅ モチベーション維持しやすい

デメリット:
- ⚠️ 後でデータ構造を変更すると、UIも修正が必要になる可能性

---
2. データファースト（DB → UI）

流れ:
1. データベーススキーマ定義
2. マイグレーション実行
3. データアクセス層（CRUD操作）実装
4. APIエンドポイント作成
5. 最後にUIコンポーネント・画面実装

メリット:
- ✅ データ構造が最初に確定するので、後の変更が少ない
- ✅ 型安全性が最初から確保される
- ✅ バックエンドとフロントエンドの責務が明確

デメリット:
- ⚠️ 画面が見えるまで時間がかかる
- ⚠️ 実際にUIを使うまでデータ構造の問題に気づきにくい
```

</details>

型定義ファイルを作成した
AIの出したコードがいけてなかったので
定数ファイルも作成してそこから型を生成するようにリファクタリング

<details>

<summary>AI 出力コード</summary>

```ts
export type DayOfWeek = 0 | 1 | 2 | 3 | 4 | 5 | 6;
export type MealType = 'breakfast' | 'lunch' | 'dinner' | 'snack';

export interface Menu {
  id: string;
  userId: string;
  dayOfWeek: DayOfWeek;
  mealType: MealType;
  dishName: string;
  memo?: string | null;
  sortOrder: number;
  createdAt: Date;
  updatedAt: Date;
}
```

</details>

<details>

<summary>リファクタリング</summary>

型定義ファイル

```ts
// types/menu.ts
import { DAY_OF_WEEK } from '@/const/day-of-week';
import { MEAL_TYPE } from '@/const/meal-type';

export type DayOfWeekType = (typeof DAY_OF_WEEK)[keyof typeof DAY_OF_WEEK];
export type MealTypeType = (typeof MEAL_TYPE)[keyof typeof MEAL_TYPE];

export type Menu = {
  id: string;
  userId: string;
  dayOfWeek: DayOfWeekType;
  mealType: MealTypeType;
  dishName: string;
  memo?: string | null;
  sortOrder: number;
  createdAt: Date;
  updatedAt: Date;
};
```

定数ファイル

```ts
export const DAY_OF_WEEK = {
  Sunday: 0,
  Monday: 1,
  Tuesday: 2,
  Wednesday: 3,
  Thursday: 4,
  Friday: 5,
  Saturday: 6,
} as const;

export const DAY_LABELS = [
  '日曜日',
  '月曜日',
  '火曜日',
  '水曜日',
  '木曜日',
  '金曜日',
  '土曜日',
] as const;

export const DAY_SHORT_LABELS = ['日', '月', '火', '水', '木', '金', '土'] as const;
```

```ts
export const MEAL_TYPE = {
  Breakfast: 'breakfast',
  Lunch: 'lunch',
  Dinner: 'dinner',
  Snack: 'snack',
} as const;

export const MEAL_TYPE_LABELS: Record<string, string> = {
  breakfast: '朝食',
  lunch: '昼食',
  dinner: '夕食',
  snack: '間食',
} as const;
```

</details>
